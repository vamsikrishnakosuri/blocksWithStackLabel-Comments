<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Blockly with Simple Keyboard Navigation</title>
    <!-- Load Blockly from CDN -->
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <!-- Load our CSS file -->
    <link rel="stylesheet" href="style.css">
    <!-- Load our block extensions (add this before other scripts) -->
    <script src="block_extensions.js"></script>
</head>
<body>
    <h1>Blockly with Simple Keyboard Navigation</h1>
    
    <button id="createBlocksBtn">1. Create Sample Blocks</button>
    <button id="enableKeyboardBtn">2. Enable Keyboard Navigation</button>
    
    <div id="status"></div>
    <div id="currentBlock"></div>
    
    <div id="blocklyArea">
        <div id="blocklyDiv"></div>
    </div>
    
    <!-- Custom Toolbox Panel for Keyboard Navigation -->
    <div id="toolboxPanel">
        <h3>Toolbox</h3>
        <div id="toolboxCategories"></div>
        <div id="toolboxBlocks" style="display: none;"></div>
    </div>
    
    <div id="instructions">
        <h2>How to use keyboard navigation:</h2>
        <ol>
            <li>Click "Create Sample Blocks" to add blocks to the workspace</li>
            <li>Click "Enable Keyboard Navigation" to activate keyboard controls</li>
            <li>Use these keys:
                <ul>
                    <li><span class="shortcut">1-6</span> - Select blocks by number</li>
                    <li><span class="shortcut">↑</span><span class="shortcut">↓</span><span class="shortcut">←</span><span class="shortcut">→</span> - Navigate between blocks</li>
                    <li><span class="shortcut">T</span> - Open the toolbox</li>
                    <li><span class="shortcut">C</span> - Enter connection mode (to connect blocks)</li>
                    <li><span class="shortcut">Tab</span> - Navigate between connection points</li>
                    <li><span class="shortcut">Enter</span> - Connect blocks at selected connection point</li>
                    <li><span class="shortcut">Delete</span> - Delete the selected block</li>
                    <li><span class="shortcut">Escape</span> - Exit current mode / Deselect all blocks</li>
                </ul>
            </li>
            <li>When toolbox is open:
                <ul>
                    <li><span class="shortcut">↑</span><span class="shortcut">↓</span> - Navigate between categories or blocks</li>
                    <li><span class="shortcut">Enter</span> - Open category or add block to workspace</li>
                    <li><span class="shortcut">←</span> - Go back to categories</li>
                    <li><span class="shortcut">Escape</span> - Close toolbox</li>
                </ul>
            </li>
        </ol>
    </div>
    
    <!-- Add search panel -->
    <div id="searchPanel">
        <h3 style="margin: 0 0 5px 0; font-size: 14px;">Go to Block</h3>
        <div style="display: flex; gap: 5px;">
            <input type="text" id="searchInput" placeholder="eg: A2, B5" />
            <button id="searchButton">Go</button>
        </div>
        <div id="searchStatus"></div>
    </div>
    
    <!-- Load our JavaScript files -->
    <script src="blockly_ui.js"></script>
    <script src="keyboard_navigation.js"></script>
    <script src="block_numbering.js"></script>
    <script src="stack_management.js"></script>
    <script src="event_handlers.js"></script>
</body>
</html>
